(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{114:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(51),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,124)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})}),i=a(5),s=a(15),u=a(10),m=a(4),d=a.n(m),p=a(7),f=a(28),b=a(27),E=a(9),v=a.n(E),h="[auth] login",g="[auth] admin",N="[auth] logout",y=Object(n.createContext)(),j=a(61),O=a.n(j),w=a(62),k=a(122),x=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){c(!1)};return r.a.createElement("div",{className:"mt-2 "},r.a.createElement(w.a,{variant:"primary",onClick:function(){return c(!0)}},"Suscribirse"),r.a.createElement(k.a,{show:a,onHide:l,backdrop:"static",keyboard:!1},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,{className:"title-sub"},"Suscribite")),r.a.createElement(k.a.Body,null,r.a.createElement("form",{className:"contact-form",onSubmit:function(e){e.preventDefault(),O.a.sendForm("gmail","template_aw5uok9",e.target,"user_LcLtCbtqDfh0IUE6zlGFi").then(function(e){window.location.reload(),alert("Gracias por suscribirte")},function(e){alert("La suscripci\xf3n fall\xf3. Intent\xe1 nuevamente.")})}},r.a.createElement("div",{className:"contenedor-inputs"},r.a.createElement("input",{type:"text",placeholder:"Nombre",name:"to_name"}),r.a.createElement("input",{type:"email",placeholder:"Correo",name:"to_email"})),r.a.createElement("input",{type:"submit",className:"btn-submit btn-primary",value:"Suscribirse"}))),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary btn-secondary",onClick:l},"Volver"))))},C=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(y).dispatch,o=Object(u.g)(),m=function(e){c(Object(b.a)({},a,Object(f.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,v.a.post("https://tucineya.herokuapp.com/api/login/",a).then(function(e){c({email:"",password:""}),e.data.admin?(l({type:g,payload:{token:e.data.username}}),o.replace("./admin")):e.data.encontrado?(localStorage.setItem("usuario",e.data.username),l({type:h,payload:{token:e.data.username}}),o.replace("./buscarPelicula")):alert(e.data.message)}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:E,className:"py-3 row justify-content-center"},r.a.createElement("div",{className:"form-group row col-lg-6"},r.a.createElement("label",{htmlFor:"fname",className:"white-text"},"Email:"),r.a.createElement("input",{type:"email",id:"fname",className:"form-control",name:"email",placeholder:"Email",onChange:m,required:!0}),r.a.createElement("label",{htmlFor:"lname",className:"white-text"},"Contrase\xf1a:"),r.a.createElement("input",{type:"password",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:m,required:!0})),r.a.createElement("div",{className:"btn-sm "},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-3"},"Ingresar"))),r.a.createElement("p",{className:"white-text"},"\xbfTodav\xeda no te registraste?"),r.a.createElement("div",{className:"btn-sm"},r.a.createElement(s.b,null,r.a.createElement(s.c,{to:"/registro",className:"btn btn-success"},"Registrarse"))),r.a.createElement(x,null))))},S=function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=US",e.next=3,fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=US");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.results.map(function(e){return{id:e.id,title:e.title,url:e.poster_path}}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(e){var t=e.title,a=e.url;return r.a.createElement("div",{id:"card-premiere",className:"card card-poster animate__animated animate__fadeIn"},r.a.createElement("p",{id:"title-premiere"},t),r.a.createElement("img",{id:"posters-premiere",src:"https://image.tmdb.org/t/p/w500".concat(a),alt:t}))},I=function(e){var t=function(e){var t=Object(n.useState)({data:[]}),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){S(e).then(function(e){c({data:e})})},[]),r}(e).data;return r.a.createElement("div",{id:"premiere",className:"mb-3"},r.a.createElement("h1",null,"Pr\xf3ximos Estrenos"),r.a.createElement("div",null,t.length!==[]?t.map(function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}):r.a.createElement("h4",{className:"mt-5"},"No se encontraron pr\xf3ximos estrenos")))},A=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col"},r.a.createElement(C,null)),r.a.createElement("div",{className:"col premiere"},r.a.createElement(I,null),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary "},"Ver Cat\xe1logo de Pel\xedculas")))))},_=function(){return r.a.createElement("div",{id:"header",className:"row container-fluid"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-start img-fluid",src:"3d-glasses.png",alt:""})),r.a.createElement("div",{className:"col-6 "},r.a.createElement("h1",{id:"tucineya",className:"fs-auto"},"TU CINE YA")),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-end img-fluid",src:"clapperboard.png",alt:""})))},q=function(){return r.a.createElement("div",{className:"d-flex justify-content-between footer mt-auto p-2 bd-highlight row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h3",{className:"title-footer"},"TU CINE YA")),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"instagram.png",alt:"Logo Instagram"})),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"facebook.png",alt:"Logo Facebook"})),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"twitter.png",alt:"Logo Twitter"})))},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(b.a)({},t.payload,{logged:!0,admin:!1});case N:return{logged:!1};case g:return Object(b.a)({},t.payload,{logged:!0,admin:!0});default:return e}},F=a(42),L=a(1),T=a.n(L),D=function(e){var t=e.isAuthenticated,a=(e.admin,e.component),n=Object(F.a)(e,["isAuthenticated","admin","component"]);return r.a.createElement(u.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(u.a,{to:"/"})}}))};D.protoTypes={isAuthenticated:T.a.bool.isRequired,admin:T.a.bool.isRequired,component:T.a.func.isRequired};var R=function(e){var t=e.isAuthenticated,a=e.admin,n=e.component,c=Object(F.a)(e,["isAuthenticated","admin","component"]);return r.a.createElement(u.b,Object.assign({},c,{component:function(e){return t&&a?r.a.createElement(n,e):(alert("No puede ingresar al componente admin"),r.a.createElement(u.a,{to:"/buscarPelicula"}))}}))};R.protoTypes={isAuthenticated:T.a.bool.isRequired,admin:T.a.bool.isRequired,component:T.a.func.isRequired};var M=function(){var e=Object(n.useState)({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(e){c(Object(b.a)({},a,Object(f.a)({},e.target.name,e.target.value)))},o=function(e){var t={};return e.nombre.length>15&&(t.nombre="Debe contener 15 letras o menos"),/[A-Za-z]/.test(e.nombre)||(t.nombre="No debe contener caracteres especiales ni n\xfameros"),e.apellido.length>20&&(t.apellido="Debe contener 20 letras o menos"),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Email invalido"),e.username.length>10&&(t.username="Debe contener 10 letras o menos"),e.password||(t.password="Requerido"),e.repassword?e.repassword!==e.password&&(t.repassword="Las contrase\xf1as deben coincidir"):t.repassword="Requerido",(parseInt(!e.celular.match(/^[0-9]{8,12}$/i))||parseInt(e.celular.match(/^[0-9]{12}$/i)))&&(t.celular="Celular invalido"),e.direccion||(t.direccion="Requerido"),t},u=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==Object.keys(o(a)).length){e.next=6;break}return e.next=4,v.a.post("https://tucineya.herokuapp.com/api/register/",a).then(function(e){alert(e.data.message),t.target.reset(),c({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""})}).catch(function(e){console.log(e)});case 4:e.next=7;break;case 6:alert(JSON.stringify(o(a)));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-3 row"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement(s.b,null,r.a.createElement(s.c,{to:"/",className:"col-2 align-items-center"},"Atras")),r.a.createElement("p",{className:"fs-1 col-8"},"FORMULARIO DE REGISTRO")),r.a.createElement("form",{onSubmit:u,className:"px-4 py-3"},r.a.createElement("p",null,"DATOS PERSONALES"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",id:"nombre",className:"form-control mb-3",name:"nombre",placeholder:"Nombre",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"apellido",className:"form-control mb-3",name:"apellido",placeholder:"Apellido",onChange:l,required:!0}),r.a.createElement("input",{type:"email",id:"email",className:"form-control mb-3",name:"email",placeholder:"Mail",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"username",className:"form-control mb-3",name:"username",placeholder:"Nombre de usuario",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"repassword",placeholder:"Confirma Contrase\xf1a",onChange:l,required:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"number",id:"celular",className:"form-control mb-3",name:"celular",placeholder:"Celular",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"direccion",className:"form-control mb-3",name:"direccion",placeholder:"Direcci\xf3n",onChange:l,required:!0}),r.a.createElement("input",{type:"number",id:"piso",className:"form-control mb-3",name:"piso",placeholder:"Piso",onChange:l}),r.a.createElement("input",{type:"text",id:"dpto",className:"form-control mb-3",name:"dpto",placeholder:"Dpto",onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-success mb-3"},"Guardar")))))))},U=a(64),H=a.n(U),J=a(123),V=function(e){var t=e.movie,a=e.setPeli,n=e.setMovieResult,c=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a(t),n();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(J.a,{className:"row g-0 "},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(J.a.Img,{src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path)})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(J.a.Body,null,r.a.createElement(J.a.Title,null,t.title),r.a.createElement(J.a.Text,null,r.a.createElement("b",null,"Voto Promedio:")," ",t.vote_average),r.a.createElement(J.a.Text,null,r.a.createElement("b",null,"Fecha de estreno:")," ",t.release_date)),r.a.createElement(w.a,{variant:"primary",onClick:c},"Agregar Pelicula")))))},z=a(121),G=function(e){var t=e.setIdCine,a=Object(n.useState)(),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],f=u[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/cines/").then(function(e){o(e.data[0])});case 2:case"end":return e.stop()}},e)})),[]);var b=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/cines/".concat(t.idLocalidad)).then(function(e){f(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(z.a,null,r.a.createElement(z.a.Toggle,{variant:"primary",id:"dropdown-basic"},0===m.length?"Localidades":m[0].Localidad),r.a.createElement(z.a.Menu,null,void 0===l?null:l.map(function(e,t){return r.a.createElement(z.a.Item,{key:t,onClick:function(){return b(e)}},e.nombreLocalidad)})),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},0===m.length?null:m.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("li",{className:"list-group-item",onClick:function(){return function(e){t(e.idCine)}(e)},style:{cursor:"pointer"}},e.Barrio," - ",e.nombre))}))))},Y=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(),f=Object(i.a)(m,2),b=f[0],E=f[1],h=Object(n.useState)(),g=Object(i.a)(h,2),N=g[0],y=g[1],j=Object(n.useState)(),O=Object(i.a)(j,2),x=O[0],C=O[1],S=Object(n.useState)(new Date),P=Object(i.a)(S,2),I=P[0],A=P[1],_=function(){c(!1),u(""),E(),y(),C()},q=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://tucineya.herokuapp.com/api/movies/",{titulo:N.title,sinopsis:N.overview,poster:N.poster_path,idPelicula:N.id,idCine:x,fecha:I}).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.themoviedb.org/3/search/movie?api_key=350f655333437185ccf33d95346bf8e6&language=en-US&query=".concat(s,"&page=1&include_adult=false")).then(function(e){E(e.data.results)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mt-2"},r.a.createElement(w.a,{variant:"primary",onClick:function(){return c(!0)}},"Agregar Pelicula"),r.a.createElement(k.a,{show:a,onHide:_,backdrop:"static",keyboard:!1},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Pelicula")),r.a.createElement(k.a.Body,null,N?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(N.poster_path),alt:N.title,className:"imgPelicula",onDoubleClick:function(){return y()}})),r.a.createElement("div",{className:"col"},r.a.createElement("h4",null,"Elige la fecha y el cine donde se estrena"),r.a.createElement(H.a,{onChange:A,value:I,className:"mb-3",format:"y-MM-dd"}),r.a.createElement(G,{setIdCine:C}))):r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{type:"text",placeholder:"Busque por titulo",onChange:function(e){u(e.target.value)}}),r.a.createElement(w.a,{variant:"secondary btn-secondary",onClick:B},"Buscar")),r.a.createElement("div",null,b?b.map(function(e,t){return r.a.createElement(V,{key:t,movie:e,setPeli:y,setMovieResult:E})}):null)),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary btn-secondary",onClick:function(){q()}},"Agregar Pelicula"),r.a.createElement(w.a,{variant:"secondary btn-secondary",onClick:_},"Volver"))))},Z=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/movies/").then(function(e){c(e.data[0])});case 2:case"end":return e.stop()}},e)})));var l=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://tucineya.herokuapp.com/api/movies/".concat(t)).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,a?r.a.createElement("div",{id:"withContext",className:"overflow-auto d-flex container p-2",style:{height:"350px",width:"auto"}},r.a.createElement("div",{className:"row row-cols-3 row-cols-lg-5 row-cols-md-4 g-2 g-lg-3"},a.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement("img",{src:e.posterPelicula,className:"card-img-top",alt:e.idNombrePelicula}),r.a.createElement("div",{className:"card-body p-0 "},r.a.createElement("div",{className:"d-flex justify-content-center  m-2"},r.a.createElement("h6",{className:"card-title"},e.idNombrePelicula)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger ",onClick:function(){return l(e.idNombrePelicula)}},"Eliminar")))))}))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading...")))),a?r.a.createElement(Y,null):null)},$=a(31),K=function(e){var t=e.deleteUsers,a=e.setDeleteUsers,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1],u=function(){return s(!1)};return r.a.createElement("div",{className:"mt-2"},r.a.createElement(w.a,{variant:0===t.length?"primary disabled":"primary",onClick:function(){return s(!0)}},"Eliminar Usuario/s"),r.a.createElement(k.a,{show:o,onHide:u,backdrop:"static",keyboard:!1},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"\xa1Atencion!")),r.a.createElement(k.a.Body,null,"\xbfEst\xe1 seguro de querer eliminar los usuarios seleccionados?"),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{className:"button",variant:"secondary btn-secondary",onClick:u},"Volver"),r.a.createElement(w.a,{variant:"danger",onClick:function(){0!==t.length&&t.map(function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://tucineya.herokuapp.com/api/users/".concat(t)).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a([]),u()}},"Eliminar"))))},Q=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],u=o[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/users/").then(function(e){c(e.data[0])});case 2:case"end":return e.stop()}},e)})),[]);var m=function(e){if(e.target.checked)u([].concat(Object($.a)(s),[e.target.value]));else for(var t=0;t<s.length;t++)s[t]===e.target.value&&(s.splice(t,1),u(Object($.a)(s)))};return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",null,a?r.a.createElement("div",{className:"overflow-auto d-flex container p-2"},r.a.createElement("ul",{className:"list-group text-start"},a.map(function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},r.a.createElement("input",{className:"form-check-input me-1",type:"checkbox",value:e.mail,"aria-label":"...",onChange:m}),e.nombre," ",e.apellido)}))):r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading..."))),r.a.createElement("div",{className:"d-flex justify-content-center"},a?r.a.createElement(K,{deleteUsers:s,setDeleteUsers:u}):null))},W=function(){var e=Object(n.useContext)(y).dispatch,t=Object(u.g)();return r.a.createElement("div",{className:"container-fluid row"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){e({type:N}),t.replace("./")}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"col-sm-7 col-md-3 col-lg-3"},r.a.createElement("h4",{className:"mb-4 white-text"},"Lista de usuarios"),r.a.createElement(Q,null)),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-9"},r.a.createElement("h4",{className:"mb-4 white-text"},"Peliculas"),r.a.createElement(Z,null)))},X=Object(n.createContext)(null),ee=function(e){var t=e.movie,a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],o=c[1],s=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(w.a,{variant:"primary",onClick:function(){return o(!0)}},"Trailer"),r.a.createElement(k.a,{show:l,onHide:s,backdrop:"static",keyboard:!1},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,t.idNombrePelicula)),r.a.createElement(k.a.Body,{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{width:"460",height:"215",src:t.trailer,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{variant:"secondary",onClick:s},"Cerrar"))))},te=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){return c(!1)};return r.a.createElement("div",{className:"mt-2"},r.a.createElement(w.a,{onClick:function(){return c(!0)}},"Ver mapa"),r.a.createElement(k.a,{show:a,onHide:l,backdrop:"static",keyboard:!1},r.a.createElement(k.a.Header,{closeButton:!0},r.a.createElement(k.a.Title,null,"Mapa")),r.a.createElement(k.a.Body,null,r.a.createElement("iframe",{src:"https://embed.waze.com/iframe?zoom=13&lat=-34.61&lon=-58.51&pin=1",width:"100%",height:"520"}),r.a.createElement("a",{href:"https://www.waze.com/es/live-map/directions/argentina/buenos-aires/devoto-shopping?utm_campaign=iframe_search&utm_medium=fullscreen_map&utm_source=http%3A%2F%2F127.0.0.1%3A5500&to=place.ChIJzYQmM9e3vJUROcWm37tV7tk",target:"_blank",rel:"noopener noreferrer"},"CINE devoto")),r.a.createElement(k.a.Footer,null,r.a.createElement(w.a,{className:"button",variant:"secondary btn-secondary",onClick:l},"Volver"))))},ae=function(){var e=Object(n.useContext)(X),t=e.movies,a=e.setMovies,c=e.idCine,l=e.setIdSala,o=Object(u.g)(),i=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a([t]),e.next=3,v.a.post("https://tucineya.herokuapp.com/api/cines/sala",{idCine:c,idNombrePelicula:t.idNombrePelicula}).then(function(e){l(e.data.idNumeroSala),o.replace("/elegirButaca")});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},0!==t.length?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex"},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"d-flex justify-content-center mb-2"},r.a.createElement("img",{src:e.posterPelicula,alt:e.idNombrePelicula,className:"d-block w-75",onDoubleClick:function(){return i(e)},style:{cursor:"pointer"}})),r.a.createElement(ee,{movie:e}))})),r.a.createElement(te,null)):null)},ne=function(e){var t=e.localidades,a=Object(n.useState)([]),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(),u=Object(i.a)(s,2),m=u[0],f=u[1],b=Object(n.useContext)(X),E=b.setMovies,h=b.setIdCine;Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})),[]);var g=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/cines/".concat(t.idLocalidad)).then(function(e){o(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=3;break}return e.next=3,v.a.get("https://tucineya.herokuapp.com/api/cines/peliculas/".concat(t.idCine)).then(function(e){console.log(e.data),E(e.data[0]),h(t.idCine)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(z.a,null,r.a.createElement(z.a.Toggle,{variant:"primary",id:"dropdown-basic"},0===l.length?"Localidades":l[0].Localidad),r.a.createElement(z.a.Menu,null,void 0===t?null:t.map(function(e,t){return r.a.createElement(z.a.Item,{key:t,onClick:function(){return g(e)}},e.nombreLocalidad)})),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},0===l.length?null:l.map(function(e,t){return r.a.createElement("div",{key:t,className:"d-flex justify-content-center"},r.a.createElement("li",{className:m===t?"list-group-item active":"list-group-item",onClick:function(){return N(e)},style:{cursor:"pointer"},value:t,onMouseOver:function(e){return f(e.target.value)},onMouseOut:function(e){return f()}},e.Barrio," - ",e.nombre," "," , "," ",e.ubicacion))}))))},re=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),s=o[0],m=o[1],f=Object(n.useState)(),b=Object(i.a)(f,2),E=b[0],h=b[1],g=Object(n.useContext)(y).dispatch,j=Object(n.useContext)(X),O=j.movies,w=j.setMovies,k=Object(u.g)();Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("usuario"),m(t),e.next=4,v.a.get("https://tucineya.herokuapp.com/api/cines/").then(function(e){h(e.data[0])});case 4:case"end":return e.stop()}},e)})),[O]);var x=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.target.reset(),t.preventDefault(),e.next=4,v.a.get("https://tucineya.herokuapp.com/api/movies/".concat(a)).then(function(e){w(e.data.data[0])}).catch(function(e){console.log(e)});case 4:c("");case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),C=function(){g({type:N}),k.replace("./")};return r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("h4",{style:{color:"white"}},"Bienvenido ",s,"!"),r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){return C}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"col mb-3"},r.a.createElement("form",{className:"mb-4",onSubmit:function(){return x()}},r.a.createElement("input",{type:"text",placeholder:"Busque por titulo",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",{className:"btn-primary"},"Buscar")),r.a.createElement("div",null,r.a.createElement(ne,{localidades:E}))),r.a.createElement("div",{className:"col"},O?r.a.createElement(ae,null):null))},ce=function(){var e=["A","B","C","D","E","F","G","H","I","J","K"],t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),f=m[0],b=m[1],E=Object(n.useState)(!1),h=Object(i.a)(E,2),g=h[0],j=h[1],O=Object(n.useState)(0),w=Object(i.a)(O,2),k=w[0],x=w[1],C=Object(n.useState)(0),S=Object(i.a)(C,2),P=S[0],I=S[1],A=Object(n.useContext)(y).dispatch,_=Object(u.g)(),q=Object(n.useContext)(X),B=q.movies,F=q.idSala;Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===F){e.next=5;break}return e.next=3,v.a.get("https://tucineya.herokuapp.com/api/butacas/".concat(F)).then(function(e){if(null!==e.data)if(""===e.data[0][0].butacas||null===e.data[0][0].butacas)localStorage.setItem("butacas",""),b(localStorage.getItem("butacas"));else{var t=e.data[0][0].butacas.split(",");localStorage.setItem("butacas",t),b(t)}else b(localStorage.getItem("butacas"))});case 3:return e.next=5,v.a.post("https://tucineya.herokuapp.com/api/sala/".concat(F)).then(function(e){x(e.data.precio)});case 5:case"end":return e.stop()}},e)})),[g]);var L=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===c.length){e.next=3;break}return e.next=3,v.a.post("https://tucineya.herokuapp.com/api/butacas",{butacas:c,idSala:F}).then(function(){l([]),j(!g),I(0)});case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(s.b,null,r.a.createElement(s.c,{to:"/buscarPelicula",className:"col-2 align-items-center",onClick:function(){localStorage.removeItem("butacas")}},"Atras")),r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){A({type:N}),_.replace("./")}},"Cerrar Sesi\xf3n")),B===[]?null:r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"text-white"},B[0].idNombrePelicula),r.a.createElement("img",{src:B[0].posterPelicula,alt:B[0].idNombrePelicula})),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"showcase"},r.a.createElement("li",null,r.a.createElement("div",{className:"seat"}),r.a.createElement("small",null,"Disponible")),r.a.createElement("li",null,r.a.createElement("div",{className:"seat selected"}),r.a.createElement("small",null,"Seleccionado")),r.a.createElement("li",null,r.a.createElement("div",{className:"seat occupied"}),r.a.createElement("small",null,"Ocupado"))),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"screen"}),r.a.createElement("div",{className:"row"},["1","2","3","4","5","6","7"].map(function(t,a){return r.a.createElement("div",{className:"row",key:a,value:t},e.map(function(e,a){return r.a.createElement("div",{className:f.includes(t+e)?"seat occupied":c.includes(t+e)?"seat selected":"seat",style:f.includes(t+e)?{pointerEvents:"none"}:null,disabled:!0,unselectable:"true",key:a,value:e,onClick:function(){return function(e,t){if(c.includes(e+t)){var a=c.indexOf(e+t);c.splice(a,1),l(Object($.a)(c)),I(P-k)}else l([].concat(Object($.a)(c),[e+t])),I(P+k);console.log(B[0].idNombrePelicula)}(t,e)}})}))})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return L()}},"Confirmar")),r.a.createElement("p",{className:"text"},"Seleccionaste ",r.a.createElement("span",{id:"count"},c.length)," asientos por el precio total de $",r.a.createElement("span",{id:"total"},P),"!")))},le=function(){var e=Object(n.useContext)(y).state,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),s=Object(i.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(),f=Object(i.a)(p,2),b=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.d,null,r.a.createElement(D,{path:"/registro",exact:!0,component:M,isAuthenticated:e.logged}),r.a.createElement(R,{path:"/admin",exact:!0,component:W,isAuthenticated:e.logged,admin:e.admin}),r.a.createElement(X.Provider,{value:{movies:c,setMovies:l,idSala:b,setIdSala:E,idCine:m,setIdCine:d}},r.a.createElement(D,{path:"/buscarPelicula",exact:!0,component:re,isAuthenticated:e.logged}),r.a.createElement(D,{path:"/elegirButaca",exact:!0,component:ce,isAuthenticated:e.logged}))))},oe=function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}},ie=function(){var e=Object(n.useReducer)(B,{},oe),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){localStorage.setItem("user",JSON.stringify(a))},[a]),r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(_,null)),r.a.createElement(s.b,null,r.a.createElement(u.d,null,r.a.createElement(y.Provider,{value:{state:a,dispatch:c}},r.a.createElement(u.b,{path:"/",exact:!0,component:A}),r.a.createElement(le,null)))),r.a.createElement("div",null,r.a.createElement(q,null))))};l.a.render(r.a.createElement(ie,null),document.getElementById("root")),o()},51:function(e,t,a){},65:function(e,t,a){e.exports=a(114)}},[[65,1,2]]]);
//# sourceMappingURL=main.c886a8b6.chunk.js.map