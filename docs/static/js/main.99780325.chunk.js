(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),l=a.n(c),o=(a(52),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,130)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})}),i=a(4),s=a(15),u=a(10),m=a(5),d=a.n(m),p=a(8),f=a(22),b=a(23),E=a(9),h=a.n(E),v="[auth] login",g="[auth] admin",y="[auth] logout",N=Object(n.createContext)(),O=a(63),j=a.n(O),k=a(64),w=a(128),x=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){c(!1)};return r.a.createElement("div",{className:"mt-2 "},r.a.createElement(k.a,{variant:"primary",onClick:function(){return c(!0)}},"Suscribirse"),r.a.createElement(w.a,{show:a,onHide:l,backdrop:"static",keyboard:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,{className:"title-sub"},"Suscribite")),r.a.createElement(w.a.Body,null,r.a.createElement("form",{className:"contact-form",onSubmit:function(e){e.preventDefault(),j.a.sendForm("gmail","template_aw5uok9",e.target,"user_LcLtCbtqDfh0IUE6zlGFi").then(function(e){window.location.reload(),alert("Gracias por suscribirte")},function(e){alert("La suscripci\xf3n fall\xf3. Intent\xe1 nuevamente.")})}},r.a.createElement("div",{className:"contenedor-inputs"},r.a.createElement("input",{type:"text",placeholder:"Nombre",name:"to_name"}),r.a.createElement("input",{type:"email",placeholder:"Correo",name:"to_email"})),r.a.createElement("input",{type:"submit",className:"btn-submit btn-primary",value:"Suscribirse"}))),r.a.createElement(w.a.Footer,null,r.a.createElement(k.a,{variant:"secondary btn-secondary",onClick:l},"Volver"))))},C=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(N).dispatch,o=Object(u.g)(),m=function(e){c(Object(b.a)({},a,Object(f.a)({},e.target.name,e.target.value)))},E=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,h.a.post("https://tucineya.herokuapp.com/api/login/",a).then(function(e){c({email:"",password:""}),console.log(e.data),e.data.admin?(l({type:g,payload:{token:e.data.username}}),o.replace("./admin")):e.data.encontrado?(localStorage.setItem("usuario",e.data.username),localStorage.setItem("email",e.data.email),l({type:v,payload:{token:e.data.username}}),o.replace("./buscarPelicula")):alert(e.data.message)}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:E,className:"py-3 row justify-content-center"},r.a.createElement("div",{className:"form-group row col-lg-6"},r.a.createElement("label",{htmlFor:"fname",className:"white-text"},"Email:"),r.a.createElement("input",{type:"email",id:"fname",className:"form-control",name:"email",placeholder:"Email",onChange:m,required:!0}),r.a.createElement("label",{htmlFor:"lname",className:"white-text"},"Contrase\xf1a:"),r.a.createElement("input",{type:"password",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:m,required:!0})),r.a.createElement("div",{className:"btn-sm "},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-3"},"Ingresar"))),r.a.createElement("p",{className:"white-text"},"\xbfTodav\xeda no te registraste?"),r.a.createElement("div",{className:"btn-sm"},r.a.createElement(s.b,null,r.a.createElement(s.c,{to:"/registro",className:"btn btn-success"},"Registrarse"))),r.a.createElement(x,null))))},S=function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=US",e.next=3,fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=US");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.results.map(function(e){return{id:e.id,title:e.title,url:e.poster_path}}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),_=function(e){var t=e.title,a=e.url;return r.a.createElement("div",{id:"card-premiere",className:"card card-poster animate__animated animate__fadeIn"},r.a.createElement("p",{id:"title-premiere"},t),r.a.createElement("img",{id:"posters-premiere",src:"https://image.tmdb.org/t/p/w500".concat(a),alt:t}))},P=function(e){var t=function(e){var t=Object(n.useState)({data:[]}),a=Object(i.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){S(e).then(function(e){c({data:e})})},[]),r}(e).data;return r.a.createElement("div",{id:"premiere",className:"mb-3"},r.a.createElement("h1",null,"Pr\xf3ximos Estrenos"),r.a.createElement("div",null,t.length!==[]?t.map(function(e){return r.a.createElement(_,Object.assign({key:e.id},e))}):r.a.createElement("h4",{className:"mt-5"},"No se encontraron pr\xf3ximos estrenos")))},A=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col"},r.a.createElement(C,null)),r.a.createElement("div",{className:"col premiere"},r.a.createElement(P,null),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary "},"Ver Cat\xe1logo de Pel\xedculas")))))},I=function(){return r.a.createElement("div",{id:"header",className:"row container-fluid"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-start img-fluid",src:"3d-glasses.png",alt:""})),r.a.createElement("div",{className:"col-6 "},r.a.createElement("h1",{id:"tucineya",className:"fs-auto"},"TU CINE YA")),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-end img-fluid",src:"clapperboard.png",alt:""})))},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(b.a)({},t.payload,{logged:!0,admin:!1});case y:return{logged:!1};case g:return Object(b.a)({},t.payload,{logged:!0,admin:!0});default:return e}},F=a(43),M=a(1),B=a.n(M),q=function(e){var t=e.isAuthenticated,a=(e.admin,e.component),n=Object(F.a)(e,["isAuthenticated","admin","component"]);return r.a.createElement(u.b,Object.assign({},n,{component:function(e){return t?r.a.createElement(a,e):r.a.createElement(u.a,{to:"/"})}}))};q.protoTypes={isAuthenticated:B.a.bool.isRequired,admin:B.a.bool.isRequired,component:B.a.func.isRequired};var D=function(e){var t=e.isAuthenticated,a=e.admin,n=e.component,c=Object(F.a)(e,["isAuthenticated","admin","component"]);return r.a.createElement(u.b,Object.assign({},c,{component:function(e){return t&&a?r.a.createElement(n,e):(alert("No puede ingresar al componente admin"),r.a.createElement(u.a,{to:"/buscarPelicula"}))}}))};D.protoTypes={isAuthenticated:B.a.bool.isRequired,admin:B.a.bool.isRequired,component:B.a.func.isRequired};var L=function(){var e=Object(n.useState)({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(e){c(Object(b.a)({},a,Object(f.a)({},e.target.name,e.target.value)))},o=function(e){var t={};return e.nombre.length>15&&(t.nombre="Debe contener 15 letras o menos"),/[A-Za-z]/.test(e.nombre)||(t.nombre="No debe contener caracteres especiales ni n\xfameros"),e.apellido.length>20&&(t.apellido="Debe contener 20 letras o menos"),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Email invalido"),e.username.length>10&&(t.username="Debe contener 10 letras o menos"),e.password||(t.password="Requerido"),e.repassword?e.repassword!==e.password&&(t.repassword="Las contrase\xf1as deben coincidir"):t.repassword="Requerido",(parseInt(!e.celular.match(/^[0-9]{8,12}$/i))||parseInt(e.celular.match(/^[0-9]{12}$/i)))&&(t.celular="Celular invalido"),e.direccion||(t.direccion="Requerido"),t},u=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==Object.keys(o(a)).length){e.next=6;break}return e.next=4,h.a.post("https://tucineya.herokuapp.com/api/register/",a).then(function(e){alert(e.data.message),t.target.reset(),c({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""})}).catch(function(e){console.log(e)});case 4:e.next=7;break;case 6:alert(JSON.stringify(o(a)));case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-3 row"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement(s.b,null,r.a.createElement(s.c,{to:"/",className:"col-2 align-items-center"},"Atras")),r.a.createElement("p",{className:"fs-1 col-8"},"FORMULARIO DE REGISTRO")),r.a.createElement("form",{onSubmit:u,className:"px-4 py-3"},r.a.createElement("p",null,"DATOS PERSONALES"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",id:"nombre",className:"form-control mb-3",name:"nombre",placeholder:"Nombre",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"apellido",className:"form-control mb-3",name:"apellido",placeholder:"Apellido",onChange:l,required:!0}),r.a.createElement("input",{type:"email",id:"email",className:"form-control mb-3",name:"email",placeholder:"Mail",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"username",className:"form-control mb-3",name:"username",placeholder:"Nombre de usuario",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"repassword",placeholder:"Confirma Contrase\xf1a",onChange:l,required:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"number",id:"celular",className:"form-control mb-3",name:"celular",placeholder:"Celular",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"direccion",className:"form-control mb-3",name:"direccion",placeholder:"Direcci\xf3n",onChange:l,required:!0}),r.a.createElement("input",{type:"number",id:"piso",className:"form-control mb-3",name:"piso",placeholder:"Piso",onChange:l}),r.a.createElement("input",{type:"text",id:"dpto",className:"form-control mb-3",name:"dpto",placeholder:"Dpto",onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-success mb-3"},"Guardar")))))))},R=a(66),U=a.n(R),H=a(129),J=function(e){var t=e.movie,a=e.setPeli,n=e.setMovieResult,c=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a(t),n();case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(H.a,{className:"row g-0 "},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(H.a.Img,{src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path)})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(H.a.Body,null,r.a.createElement(H.a.Title,null,t.title),r.a.createElement(H.a.Text,null,r.a.createElement("b",null,"Voto Promedio:")," ",t.vote_average),r.a.createElement(H.a.Text,null,r.a.createElement("b",null,"Fecha de estreno:")," ",t.release_date)),r.a.createElement(k.a,{variant:"primary",onClick:c},"Agregar Pelicula")))))},Y=a(127),V=function(e){var t=e.setIdCine,a=Object(n.useState)(),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)([]),u=Object(i.a)(s,2),m=u[0],f=u[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://tucineya.herokuapp.com/api/cines/").then(function(e){o(e.data[0])});case 2:case"end":return e.stop()}},e)})),[]);var b=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://tucineya.herokuapp.com/api/cines/".concat(t.idLocalidad)).then(function(e){f(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(Y.a.Toggle,{variant:"primary",id:"dropdown-basic"},0===m.length?"Localidades":m[0].Localidad),r.a.createElement(Y.a.Menu,null,void 0===l?null:l.map(function(e,t){return r.a.createElement(Y.a.Item,{key:t,onClick:function(){return b(e)}},e.nombreLocalidad)})),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},0===m.length?null:m.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("li",{className:"list-group-item",onClick:function(){return function(e){t(e.idCine)}(e)},style:{cursor:"pointer"}},e.Barrio," - ",e.nombre))}))))},z=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),s=o[0],u=o[1],m=Object(n.useState)(),f=Object(i.a)(m,2),b=f[0],E=f[1],v=Object(n.useState)(),g=Object(i.a)(v,2),y=g[0],N=g[1],O=Object(n.useState)(),j=Object(i.a)(O,2),x=j[0],C=j[1],S=Object(n.useState)(new Date),_=Object(i.a)(S,2),P=_[0],A=_[1],I=function(){c(!1),u(""),E(),N(),C()},T=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://tucineya.herokuapp.com/api/movies/",{titulo:y.title,sinopsis:y.overview,poster:y.poster_path,idPelicula:y.id,idCine:x,fecha:P}).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://api.themoviedb.org/3/search/movie?api_key=350f655333437185ccf33d95346bf8e6&language=en-US&query=".concat(s,"&page=1&include_adult=false")).then(function(e){E(e.data.results)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mt-2"},r.a.createElement(k.a,{variant:"primary",onClick:function(){return c(!0)}},"Agregar Pelicula"),r.a.createElement(w.a,{show:a,onHide:I,backdrop:"static",keyboard:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Pelicula")),r.a.createElement(w.a.Body,null,y?r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(y.poster_path),alt:y.title,className:"imgPelicula",onDoubleClick:function(){return N()}})),r.a.createElement("div",{className:"col"},r.a.createElement("h4",null,"Elige la fecha y el cine donde se estrena"),r.a.createElement(U.a,{onChange:A,value:P,className:"mb-3",format:"y-MM-dd"}),r.a.createElement(V,{setIdCine:C}))):r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{type:"text",placeholder:"Busque por titulo",onChange:function(e){u(e.target.value)}}),r.a.createElement(k.a,{variant:"secondary btn-secondary",onClick:F},"Buscar")),r.a.createElement("div",null,b?b.map(function(e,t){return r.a.createElement(J,{key:t,movie:e,setPeli:N,setMovieResult:E})}):null)),r.a.createElement(w.a.Footer,null,r.a.createElement(k.a,{variant:"secondary btn-secondary",onClick:function(){T()}},"Agregar Pelicula"),r.a.createElement(k.a,{variant:"secondary btn-secondary",onClick:I},"Volver"))))},G=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://tucineya.herokuapp.com/api/movies/").then(function(e){c(e.data[0])});case 2:case"end":return e.stop()}},e)})));var l=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("https://tucineya.herokuapp.com/api/movies/".concat(t)).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,a?r.a.createElement("div",{id:"withContext",className:"overflow-auto d-flex container p-2",style:{height:"350px",width:"auto"}},r.a.createElement("div",{className:"row row-cols-3 row-cols-lg-5 row-cols-md-4 g-2 g-lg-3"},a.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",null,r.a.createElement("img",{src:e.posterPelicula,className:"card-img-top",alt:e.idNombrePelicula}),r.a.createElement("div",{className:"card-body p-0 "},r.a.createElement("div",{className:"d-flex justify-content-center  m-2"},r.a.createElement("h6",{className:"card-title"},e.idNombrePelicula)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger ",onClick:function(){return l(e.idNombrePelicula)}},"Eliminar")))))}))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading...")))),a?r.a.createElement(z,null):null)},Z=a(31),$=function(e){var t=e.deleteUsers,a=e.setDeleteUsers,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],s=l[1],u=function(){return s(!1)};return r.a.createElement("div",{className:"mt-2"},r.a.createElement(k.a,{variant:0===t.length?"primary disabled":"primary",onClick:function(){return s(!0)}},"Eliminar Usuario/s"),r.a.createElement(w.a,{show:o,onHide:u,backdrop:"static",keyboard:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"\xa1Atencion!")),r.a.createElement(w.a.Body,null,"\xbfEst\xe1 seguro de querer eliminar los usuarios seleccionados?"),r.a.createElement(w.a.Footer,null,r.a.createElement(k.a,{className:"button",variant:"secondary btn-secondary",onClick:u},"Volver"),r.a.createElement(k.a,{variant:"danger",onClick:function(){0!==t.length&&t.map(function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.delete("https://tucineya.herokuapp.com/api/users/".concat(t)).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a([]),u()}},"Eliminar"))))},K=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],u=o[1];Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://tucineya.herokuapp.com/api/users/").then(function(e){c(e.data[0])});case 2:case"end":return e.stop()}},e)})),[]);var m=function(e){if(e.target.checked)u([].concat(Object(Z.a)(s),[e.target.value]));else for(var t=0;t<s.length;t++)s[t]===e.target.value&&(s.splice(t,1),u(Object(Z.a)(s)))};return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",null,a?r.a.createElement("div",{className:"overflow-auto d-flex container p-2"},r.a.createElement("ul",{className:"list-group text-start"},a.map(function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},r.a.createElement("input",{className:"form-check-input me-1",type:"checkbox",value:e.mail,"aria-label":"...",onChange:m}),e.nombre," ",e.apellido)}))):r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading..."))),r.a.createElement("div",{className:"d-flex justify-content-center"},a?r.a.createElement($,{deleteUsers:s,setDeleteUsers:u}):null))},Q=function(){var e=Object(n.useContext)(N).dispatch,t=Object(u.g)();return r.a.createElement("div",{className:"container-fluid row"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){e({type:y}),t.replace("./")}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"col-sm-7 col-md-3 col-lg-3"},r.a.createElement("h4",{className:"mb-4 white-text"},"Lista de usuarios"),r.a.createElement(K,null)),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-9"},r.a.createElement("h4",{className:"mb-4 white-text"},"Peliculas"),r.a.createElement(G,null)))},W=Object(n.createContext)(null),X=function(e){var t=e.movie,a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],o=c[1],s=function(){return o(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{variant:"primary",onClick:function(){return o(!0)}},"Trailer"),r.a.createElement(w.a,{show:l,onHide:s,backdrop:"static",keyboard:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,t.idNombrePelicula)),r.a.createElement(w.a.Body,{className:"embed-responsive embed-responsive-16by9"},r.a.createElement("iframe",{width:"460",height:"215",src:t.trailer,title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})),r.a.createElement(w.a.Footer,null,r.a.createElement(k.a,{variant:"secondary",onClick:s},"Cerrar"))))},ee=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){return c(!1)},o=Object(n.useContext)(W),s=(o.movie,o.idCine);return r.a.createElement("div",{className:"mt-2"},r.a.createElement(k.a,{onClick:function(){return c(!0)}},s),r.a.createElement(w.a,{show:a,onHide:l,backdrop:"static",keyboard:!1},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,s)),r.a.createElement(w.a.Body,null,r.a.createElement("iframe",{src:"https://embed.waze.com/iframe?zoom=13&lat=-34.61&lon=-58.51&pin=1",width:"100%",height:"520"}),r.a.createElement("a",{href:"https://www.waze.com/es/live-map/directions/argentina/buenos-aires/devoto-shopping?utm_campaign=iframe_search&utm_medium=fullscreen_map&utm_source=http%3A%2F%2F127.0.0.1%3A5500&to=place.ChIJzYQmM9e3vJUROcWm37tV7tk",target:"_blank",rel:"noopener noreferrer"},"CINE devoto")),r.a.createElement(w.a.Footer,null,r.a.createElement(k.a,{className:"button",variant:"secondary btn-secondary",onClick:l},"Volver"))))},te=function(){var e=Object(n.useContext)(W),t=e.movies,a=e.setMovies,c=(e.idCine,e.setIdCine),l=e.setIdSala,o=e.setButacas,i=Object(u.g)();return r.a.createElement("div",{className:"row"},0!==t.length?r.a.createElement("div",null,r.a.createElement("div",{className:"d-flex"},t.map(function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("div",{className:"d-flex justify-content-center mb-2"},r.a.createElement("img",{src:e.posterPelicula,alt:e.idNombrePelicula,className:"d-block w-75",onDoubleClick:function(){return function(e){a([e]),l(e.idNumeroSala),c(e.idCine),o(e.butacas),console.log(e),i.replace("/elegirButaca")}(e)},style:{cursor:"pointer"}})),r.a.createElement("div",null,r.a.createElement("h2",{className:"text-white"},e.idCine),r.a.createElement(X,{movie:e})))})),r.a.createElement(ee,null)):null)},ae=function(e){var t=e.localidades,a=Object(n.useState)([]),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Object(n.useState)(),u=Object(i.a)(s,2),m=u[0],f=u[1],b=Object(n.useContext)(W),E=b.setMovies,v=b.setIdCine,g=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("https://tucineya.herokuapp.com/api/cines/".concat(t.idLocalidad)).then(function(e){o(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===t){e.next=3;break}return e.next=3,h.a.get("https://tucineya.herokuapp.com/api/cines/peliculas/".concat(t.idCine)).then(function(e){console.log(e.data),E(e.data[0]),v(t.idCine)});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Y.a,null,r.a.createElement(Y.a.Toggle,{variant:"primary",id:"dropdown-basic"},0===l.length?"Localidades":l[0].Localidad),r.a.createElement(Y.a.Menu,null,void 0===t?null:t.map(function(e,t){return r.a.createElement(Y.a.Item,{key:t,onClick:function(){return g(e)}},e.nombreLocalidad)})),r.a.createElement("div",null,r.a.createElement("ul",{className:"list-group list-group-flush"},0===l.length?null:l.map(function(e,t){return r.a.createElement("div",{key:t,className:"d-flex justify-content-center"},r.a.createElement("li",{className:m===t?"list-group-item active":"list-group-item",onClick:function(){return y(e)},style:{cursor:"pointer"},value:t,onMouseOver:function(e){return f(e.target.value)},onMouseOut:function(e){return f()}},e.Barrio," - ",e.nombre," "," , "," ",e.ubicacion))}))))},ne=function(){var e=Object(n.useState)(),t=Object(i.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(i.a)(l,2),s=o[0],m=o[1],f=Object(n.useState)(),b=Object(i.a)(f,2),E=b[0],v=b[1],g=Object(n.useContext)(N).dispatch,O=Object(n.useContext)(W),j=O.movies,k=O.setMovies,w=(O.setIdSala,O.setIdCine,Object(u.g)());Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("usuario"),m(t),e.next=4,h.a.get("https://tucineya.herokuapp.com/api/cines/").then(function(e){v(e.data[0])});case 4:case"end":return e.stop()}},e)})),[j]);var x=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://tucineya.herokuapp.com/api/movies/".concat(a)).then(function(e){k(e.data.data[0]),console.log(e.data.data[0][0])}).catch(function(e){console.log(e)});case 2:c("");case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),C=function(){g({type:y}),w.replace("./")};return r.a.createElement("div",{className:"row mt-4"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement("h4",{style:{color:"white"}},"Bienvenido ",s,"!"),r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){return C}},"Cerrar Sesi\xf3n")),r.a.createElement("div",{className:"col mb-3"},r.a.createElement("form",{className:"mb-4",onSubmit:function(){return x()}},r.a.createElement("input",{type:"text",placeholder:"Busque por titulo",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",{className:"btn-primary"},"Buscar")),r.a.createElement("div",null,r.a.createElement(ae,{localidades:E}))),j?r.a.createElement("div",{className:"col"},r.a.createElement(te,null)):null)},re=function(){var e=["A","B","C","D","E","F","G","H","I","J","K"],t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)([]),m=Object(i.a)(o,2),f=m[0],b=m[1],E=Object(n.useState)(!1),v=Object(i.a)(E,2),g=v[0],O=v[1],j=Object(n.useState)(0),k=Object(i.a)(j,2),w=k[0],x=k[1],C=Object(n.useState)(0),S=Object(i.a)(C,2),_=S[0],P=S[1],A=Object(n.useContext)(N).dispatch,I=Object(u.g)(),T=Object(n.useContext)(W),F=T.movies,M=T.idSala,B=T.butacas;Object(n.useEffect)(Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===M){e.next=4;break}return b(B.split(",")),e.next=4,h.a.post("https://tucineya.herokuapp.com/api/sala/".concat(M)).then(function(e){x(e.data.precio)});case 4:case"end":return e.stop()}},e)})),[g]);var q=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post("https://tucineya.herokuapp.com/checkout",{cantButacas:c.length,precio:w,pelicula:F[0]}).then(function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===c.length){e.next=3;break}return e.next=3,h.a.post("https://tucineya.herokuapp.com/api/butacas",{butacas:c,idSala:M}).then(function(){l([]),O(!g),P(0),window.open("".concat(t.data.link))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(s.b,null,r.a.createElement(s.c,{className:"col-2 align-items-center",onClick:function(){localStorage.removeItem("butacas")},to:"/buscarPelicula"},"Atras")),r.a.createElement("button",{className:"nav-item nav-link btn white-text",onClick:function(){A({type:y}),I.replace("./")}},"Cerrar Sesi\xf3n")),F===[]?null:r.a.createElement("div",{className:"col"},r.a.createElement("h1",{className:"text-white"},F[0].idNombrePelicula),r.a.createElement("img",{src:F[0].posterPelicula,alt:F[0].idNombrePelicula})),r.a.createElement("div",{className:"col"},r.a.createElement("ul",{className:"showcase"},r.a.createElement("li",null,r.a.createElement("div",{className:"seat"}),r.a.createElement("small",null,"Disponible")),r.a.createElement("li",null,r.a.createElement("div",{className:"seat selected"}),r.a.createElement("small",null,"Seleccionado")),r.a.createElement("li",null,r.a.createElement("div",{className:"seat occupied"}),r.a.createElement("small",null,"Ocupado"))),r.a.createElement("div",{className:"container "},r.a.createElement("div",{className:"screen"}),r.a.createElement("div",{className:"row"},["1","2","3","4","5","6","7"].map(function(t,a){return r.a.createElement("div",{className:"row",key:a,value:t},e.map(function(e,a){return r.a.createElement("div",{className:f.includes(t+e)?"seat occupied":c.includes(t+e)?"seat selected":"seat",style:f.includes(t+e)?{pointerEvents:"none"}:null,disabled:!0,unselectable:"true",key:a,value:e,onClick:function(){return function(e,t){if(c.includes(e+t)){var a=c.indexOf(e+t);c.splice(a,1),l(Object(Z.a)(c)),P(_-w)}else l([].concat(Object(Z.a)(c),[e+t])),P(_+w)}(t,e)}})}))})),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return q()}},"Confirmar")),r.a.createElement("p",{className:"text"},"Seleccionaste ",r.a.createElement("span",{id:"count"},c.length)," asientos por el precio total de $",r.a.createElement("span",{id:"total"},_),"!")))};var ce={id:"form-checkout",cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular de la tarjeta"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"E-mail"},cardNumber:{id:"form-checkout__cardNumber",placeholder:"N\xfamero de la tarjeta"},cardExpirationMonth:{id:"form-checkout__cardExpirationMonth",placeholder:"Mes de vencimiento"},cardExpirationYear:{id:"form-checkout__cardExpirationYear",placeholder:"A\xf1o de vencimiento"},securityCode:{id:"form-checkout__securityCode",placeholder:"C\xf3digo de seguridad"},installments:{id:"form-checkout__installments",placeholder:"Cuotas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"N\xfamero de documento"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emisor"}},le=a(67);a(119);function oe(){var e=Object(n.useState)(void 0),t=Object(i.a)(e,2),a=t[0],r=t[1],c=function(e,t){var a=Object(n.useState)({}),r=Object(i.a)(a,2),c=r[0],l=r[1];return Object(n.useEffect)(function(){var a=document.createElement("script");return a.src=e,a.async=!0,a.onload=function(){return l(Object(f.a)({},t,window[t]))},document.body.appendChild(a),function(){document.body.removeChild(a)}},[e]),c}("https://sdk.mercadopago.com/js/v2","MercadoPago").MercadoPago;return Object(n.useEffect)(function(){if(c)var e=new c("APP_USR-1569881881668547-090901-ed4579cdabdc49ac4f4fa2f5a2ab367e-821158698").cardForm({amount:"100.5",autoMount:!0,form:ce,callbacks:{onFormMounted:function(e){if(e)return console.warn("Form Mounted handling error: ",e)},onSubmit:function(t){t.preventDefault();var a=e.getCardFormData(),n=a.paymentMethodId,c=a.issuerId,l=a.cardholderEmail,o=(a.amount,a.token),i=a.installments,s=a.identificationNumber,u=a.identificationType;fetch("http://localhost:4000/process-payment",{method:"POST",headers:{"Access-Control-Allow-Origin":"*","Access-Control-Request-Method":"GET, POST, DELETE, PUT, OPTIONS","Content-Type":"application/json"},body:JSON.stringify({token:o,issuer_id:c,payment_method_id:n,transaction_amount:1e3,installments:Number(i),description:"Descripci\xf3n del producto",payer:{email:l,identification:{type:u,number:s}}})}).then(function(e){return e.json()}).then(function(e){return r(e)}).catch(function(e){r(e)})},onFetching:function(e){var t=document.querySelector(".progress-bar");return t.removeAttribute("value"),function(){t.setAttribute("value","0")}}}})},[c]),a}var ie={cvc:"",cardExpirationMonth:"",cardExpirationYear:"",focus:"cardNumber",cardholderName:"",cardNumber:"",issuer:""},se=function(){var e=Object(n.useState)(ie),t=Object(i.a)(e,2),a=t[0],c=t[1],l=oe(),o=function(e){c(Object(b.a)({},a,Object(f.a)({},e.target.dataset.name||e.target.name,e.target.value)))},s=function(e){c(Object(b.a)({},a,{focus:e.target.dataset.name||e.target.name}))};return r.a.createElement("div",{className:"container"},r.a.createElement(le.a,{cvc:a.cvc,expiry:a.cardExpirationMonth+a.cardExpirationYear,name:a.cardholderName,number:a.cardNumber,focused:a.focus,brand:a.issuer}),r.a.createElement("form",{id:"form-checkout",action:"http://localhost:4000/process-payment",method:"POST"},r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",name:"cardNumber",id:"form-checkout__cardNumber",onChange:o,onFocus:s,maxLength:"16"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"tel",name:"cardExpirationMonth",id:"form-checkout__cardExpirationMonth",onChange:o,onFocus:s}),r.a.createElement("input",{type:"tel",name:"cardExpirationYear",id:"form-checkout__cardExpirationYear",onChange:o,onFocus:s}),r.a.createElement("input",{type:"tel",name:"cvc",id:"form-checkout__securityCode",onChange:o,onFocus:s})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",name:"cardholderName",id:"form-checkout__cardholderName",onChange:o,onFocus:s}),r.a.createElement("input",{type:"email",name:"cardholderEmail",id:"form-checkout__cardholderEmail",onFocus:s})),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{name:"issuer",id:"form-checkout__issuer",on:!0}),r.a.createElement("select",{name:"identificationType",id:"form-checkout__identificationType"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("input",{type:"text",name:"identificationNumber",id:"form-checkout__identificationNumber"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("select",{name:"installments",id:"form-checkout__installments"})),r.a.createElement("div",{className:"form-control"},r.a.createElement("button",{type:"submit",id:"form-checkout__submit"},"Pagar")),r.a.createElement("progress",{value:"0",className:"progress-bar text-white"},"Cargando...")),l&&r.a.createElement("p",{className:"text-white"},JSON.stringify(l)))},ue=function(){var e=Object(n.useContext)(N).state,t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1],o=Object(n.useState)(),s=Object(i.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(),f=Object(i.a)(p,2),b=f[0],E=f[1],h=Object(n.useState)(),v=Object(i.a)(h,2),g=v[0],y=v[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/registro",exact:!0,component:L}),r.a.createElement(D,{path:"/admin",exact:!0,component:Q,isAuthenticated:e.logged,admin:e.admin}),r.a.createElement(W.Provider,{value:{movies:c,setMovies:l,idSala:b,setIdSala:E,idCine:m,setIdCine:d,butacas:g,setButacas:y}},r.a.createElement(q,{path:"/buscarPelicula",exact:!0,component:ne,isAuthenticated:e.logged}),r.a.createElement(q,{path:"/elegirButaca",exact:!0,component:re,isAuthenticated:e.logged}),r.a.createElement(q,{path:"/pago",exact:!0,component:se,isAuthenticated:e.logged}))))},me=function(){return JSON.parse(localStorage.getItem("user"))||{logged:!1}},de=function(){var e=Object(n.useReducer)(T,{},me),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){localStorage.setItem("user",JSON.stringify(a))},[a]),r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(I,null)),r.a.createElement(s.b,null,r.a.createElement(u.d,null,r.a.createElement(N.Provider,{value:{state:a,dispatch:c}},r.a.createElement(u.b,{path:"/",exact:!0,component:A}),r.a.createElement(ue,null))))))};l.a.render(r.a.createElement(de,null),document.getElementById("root")),o()},52:function(e,t,a){},68:function(e,t,a){e.exports=a(120)}},[[68,1,2]]]);
//# sourceMappingURL=main.99780325.chunk.js.map