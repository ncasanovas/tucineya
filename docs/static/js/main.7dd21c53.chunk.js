(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){},40:function(e,t,a){e.exports=a(74)},74:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=(a(29),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})}),s=a(7),i=a(15),m=a(5),u=a(4),d=a.n(u),p=a(8),E=a(19),f=a(21),b=a(10),v=a.n(b),h=function(){return window.onload=function(){var e=document.getElementById("btn-abrir-popup"),t=document.getElementById("overlay"),a=document.getElementById("popup"),n=document.getElementById("btn-cerrar-popup");e.addEventListener("click",function(){t.classList.add("active"),a.classList.add("active")}),n.addEventListener("click",function(e){e.preventDefault(),t.classList.remove("active"),a.classList.remove("active")})},r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-primary",id:"btn-abrir-popup"},"Subscribirse"),r.a.createElement("div",{className:"contenedor"},r.a.createElement("div",{className:"overlay",id:"overlay"},r.a.createElement("div",{className:"popup",id:"popup"},r.a.createElement("a",{href:"#",id:"btn-cerrar-popup",className:"btn-cerrar-popup"},r.a.createElement("i",{className:"fas fa-times"})),r.a.createElement("h3",null,"SUSCRIBETE"),r.a.createElement("h4",null,"y recibe las novedades."),r.a.createElement("form",{action:""},r.a.createElement("div",{className:"contenedor-inputs"},r.a.createElement("input",{type:"text",placeholder:"Nombre"}),r.a.createElement("input",{type:"email",placeholder:"Correo"})),r.a.createElement("input",{type:"submit",className:"btn-submit",value:"Suscribirse"}))))))},g=function(){var e=Object(n.useState)({email:"",password:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(m.f)(),o=function(e){c(Object(f.a)({},a,Object(E.a)({},e.target.name,e.target.value)))},u=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.target.reset(),e.next=4,v.a.post("https://tucineya.herokuapp.com/api/login/",a).then(function(e){c({email:"",password:""}),e.data.admin?l.replace("./admin"):alert(e.data.message)}).catch(function(e){console.log(e)});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("form",{onSubmit:u,className:"py-3 row justify-content-center"},r.a.createElement("div",{className:"form-group row col-lg-6"},r.a.createElement("label",{htmlFor:"fname"},"Email:"),r.a.createElement("input",{type:"email",id:"fname",className:"form-control",name:"email",placeholder:"Email",onChange:o,required:!0}),r.a.createElement("label",{htmlFor:"lname"},"Contrase\xf1a:"),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:o,required:!0})),r.a.createElement("div",{className:"btn-sm "},r.a.createElement("button",{type:"submit",className:"btn btn-primary mb-3"},"Ingresar"))),r.a.createElement("p",null,"\xbfTodav\xeda no te registraste?"),r.a.createElement("div",{className:"btn-sm"},r.a.createElement(i.b,null,r.a.createElement(i.c,{to:"/registro",className:"btn btn-success"},"Registrarse"))),r.a.createElement(h,null))))},N=function(){var e=Object(p.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=AR",e.next=3,fetch("https://api.themoviedb.org/3/movie/upcoming?api_key=350f655333437185ccf33d95346bf8e6&region=AR");case 3:return t=e.sent,e.next=6,t.json();case 6:return a=e.sent,n=a.results.map(function(e){return{id:e.id,title:e.title,url:e.poster_path}}),e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),y=function(e){var t=e.title,a=e.url;e.video;return r.a.createElement("div",{className:"card card-poster animate__animated animate__fadeIn"},r.a.createElement("p",{id:"title-premiere"},t),r.a.createElement("img",{id:"posters-premiere",src:"https://image.tmdb.org/t/p/w500".concat(a),alt:t}))},w=function(e){var t=function(e){var t=Object(n.useState)({data:[]}),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)(function(){N(e).then(function(e){c({data:e})})},[e]),r}(e).data;return r.a.createElement("div",{id:"premiere",className:"mb-3"},r.a.createElement("h1",null,"Pr\xf3ximos Estrenos"),r.a.createElement("div",null,t.length!=[]?t.map(function(e){return r.a.createElement(y,Object.assign({key:e.id},e))}):r.a.createElement("h4",{className:"mt-5"},"No se encontraron pr\xf3ximos estrenos")))},x=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"row "},r.a.createElement("div",{className:"col"},r.a.createElement(g,null)),r.a.createElement("div",{className:"col premiere"},r.a.createElement(w,null),r.a.createElement("div",{className:"mb-3"},r.a.createElement("button",{type:"button",className:"btn btn-primary "},"Ver Cat\xe1logo de Pel\xedculas")))))},j=function(){var e=Object(n.useState)({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""}),t=Object(s.a)(e,2),a=t[0],c=t[1],l=function(e){c(Object(f.a)({},a,Object(E.a)({},e.target.name,e.target.value))),console.log(a.nombre)},o=function(e){var t={};return e.nombre.length>15&&(t.nombre="Debe contener 15 letras o menos"),/[A-Za-z]/.test(e.nombre)||(t.nombre="No debe contener caracteres especiales ni n\xfameros"),e.apellido.length>20&&(t.apellido="Debe contener 20 letras o menos"),/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Email invalido"),e.username.length>10&&(t.username="Debe contener 10 letras o menos"),e.password||(t.password="Requerido"),e.repassword?e.repassword!==e.password&&(t.repassword="Las contrase\xf1as deben coincidir"):t.repassword="Requerido",(parseInt(!e.celular.match(/^[0-9]{8,12}$/i))||parseInt(e.celular.match(/^[0-9]{12}$/i)))&&(t.celular="Celular invalido"),e.direccion||(t.direccion="Requerido"),t},m=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),t.target.reset(),0!==Object.keys(o(a)).length){e.next=7;break}return e.next=5,v.a.post("https://tucineya.herokuapp.com/api/register/",a).then(function(e){alert(e.data.message),console.log(e)}).catch(function(e){console.log(e)});case 5:e.next=8;break;case 7:alert(JSON.stringify(o(a)));case 8:c({nombre:"",apellido:"",email:"",username:"",password:"",rePassword:"",celular:"",direccion:"",piso:"",dpto:""});case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-3 row"},r.a.createElement("div",{className:"justify-content-center"},r.a.createElement("div",{className:"row"},r.a.createElement(i.b,null,r.a.createElement(i.c,{to:"/",className:"col-2 align-items-center"},"Atras")),r.a.createElement("p",{className:"fs-1 col-8"},"FORMULARIO DE REGISTRO")),r.a.createElement("form",{onSubmit:m,className:"px-4 py-3"},r.a.createElement("p",null,"DATOS PERSONALES"),r.a.createElement("div",{className:"form-group row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",id:"nombre",className:"form-control mb-3",name:"nombre",placeholder:"Nombre",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"apellido",className:"form-control mb-3",name:"apellido",placeholder:"Apellido",onChange:l,required:!0}),r.a.createElement("input",{type:"email",id:"email",className:"form-control mb-3",name:"email",placeholder:"Mail",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"username",className:"form-control mb-3",name:"username",placeholder:"Nombre de usuario",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"password",placeholder:"Contrase\xf1a",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"lname",className:"form-control mb-3",name:"repassword",placeholder:"Confirma Contrase\xf1a",onChange:l,required:!0})),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"number",id:"celular",className:"form-control mb-3",name:"celular",placeholder:"Celular",onChange:l,required:!0}),r.a.createElement("input",{type:"text",id:"direccion",className:"form-control mb-3",name:"direccion",placeholder:"Direcci\xf3n",onChange:l,required:!0}),r.a.createElement("input",{type:"number",id:"piso",className:"form-control mb-3",name:"piso",placeholder:"Piso",onChange:l}),r.a.createElement("input",{type:"text",id:"dpto",className:"form-control mb-3",name:"dpto",placeholder:"Dpto",onChange:l}),r.a.createElement("button",{type:"submit",className:"btn btn-success mb-3"},"Guardar")))))))},O=function(){return r.a.createElement("div",{id:"header",className:"row container-fluid"},r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-start img-fluid",src:"3d-glasses.png",alt:""})),r.a.createElement("div",{className:"col-6 "},r.a.createElement("h1",{id:"tucineya",className:"fs-auto"},"TU CINE YA")),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icons-home rounded float-end img-fluid",src:"clapperboard.png",alt:""})))},k=function(){return r.a.createElement("div",{className:"d-flex justify-content-between footer mt-auto p-2 bd-highlight row"},r.a.createElement("div",{className:"col-3"},r.a.createElement("h3",null,"TU CINE YA")),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"instagram.png",alt:""})),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"facebook.png",alt:""})),r.a.createElement("div",{className:"col-3"},r.a.createElement("img",{className:"icon",src:"twitter.png",alt:""})))},C=a(78),S=a(76),P=a(77),A=function(e){var t=e.movie,a=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.post("https://tucineya.herokuapp.com/api/movies/",t).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement(P.a,{className:"row g-0 "},r.a.createElement("div",{className:"col-md-4"},r.a.createElement(P.a.Img,{src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path)})),r.a.createElement("div",{className:"col-md-8"},r.a.createElement(P.a.Body,null,r.a.createElement(P.a.Title,null,t.title),r.a.createElement(P.a.Text,null,r.a.createElement("b",null,"Voto Promedio:")," ",t.vote_average),r.a.createElement(P.a.Text,null,r.a.createElement("b",null,"Fecha de estreno:")," ",t.release_date)),r.a.createElement(C.a,{variant:"primary",onClick:a},"Agregar Pelicula")))))},q=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(),o=Object(s.a)(l,2),i=o[0],m=o[1],u=Object(n.useState)(),E=Object(s.a)(u,2),f=E[0],b=E[1],h=function(){c(!1),m(""),b()},g=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://api.themoviedb.org/3/search/movie?api_key=350f655333437185ccf33d95346bf8e6&language=en-US&query=".concat(i,"&page=1&include_adult=false")).then(function(e){b(e.data.results)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"mt-2"},r.a.createElement(C.a,{variant:"primary",onClick:function(){return c(!0)}},"Agregar Pelicula"),r.a.createElement(S.a,{show:a,onHide:h,backdrop:"static",keyboard:!1},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,null,"Pelicula")),r.a.createElement(S.a.Body,null,r.a.createElement("div",{className:"mb-3"},r.a.createElement("input",{type:"text",placeholder:"Busque por titulo",onChange:function(e){m(e.target.value)}}),r.a.createElement(C.a,{variant:"secondary btn-secondary",onClick:g},"Buscar")),r.a.createElement("div",null,f?f.map(function(e,t){return r.a.createElement(A,{key:t,movie:e})}):null)),r.a.createElement(S.a.Footer,null,r.a.createElement(C.a,{variant:"secondary btn-secondary",onClick:h},"Volver"))))},I=Object(n.createContext)(),B=function(){var e=Object(n.useContext)(I).moviesContext,t=function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://tucineya.herokuapp.com/api/movies/".concat(t)).then(function(e){alert(e.data.message)}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",null,e?r.a.createElement("div",{className:"overflow-auto d-flex container p-2",style:{height:"350px",width:"auto"}},r.a.createElement("div",{className:"row row-cols-3 row-cols-lg-5 row-cols-md-4 g-2 g-lg-3"},e.map(function(e,a){return r.a.createElement("div",{key:a},r.a.createElement("div",null,r.a.createElement("img",{src:e.posterPelicula,className:"card-img-top",alt:e.nombrePelicula}),r.a.createElement("div",{className:"card-body p-0 "},r.a.createElement("div",{className:"d-flex justify-content-center  m-2"},r.a.createElement("h6",{className:"card-title"},e.nombrePelicula)),r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-danger ",onClick:function(){return t(e.nombrePelicula)}},"Eliminar")))))}))):r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading...")))),e?r.a.createElement(q,null):null)},L=a(26),D=function(e){var t=e.deleteUsers,a=e.setDeleteUsers,c=Object(n.useState)(!1),l=Object(s.a)(c,2),o=l[0],i=l[1],u=Object(m.f)(),E=function(){return i(!1)};return r.a.createElement("div",{className:"mt-2"},r.a.createElement(C.a,{variant:0===t.length?"primary disabled":"primary",onClick:function(){return i(!0)}},"Eliminar Usuario/s"),r.a.createElement(S.a,{show:o,onHide:E,backdrop:"static",keyboard:!1},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,null,"\xa1Atencion!")),r.a.createElement(S.a.Body,null,"\xbfEst\xe1 seguro de querer eliminar los usuarios seleccionados?"),r.a.createElement(S.a.Footer,null,r.a.createElement(C.a,{variant:"secondary btn-secondary",onClick:E},"Volver"),r.a.createElement(C.a,{variant:"danger",onClick:function(){0!==t.length&&t.map(function(){var e=Object(p.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.delete("https://tucineya.herokuapp.com/api/users/".concat(t)).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),a([]),E(),u.go(0)}},"Eliminar"))))},T=function(e){var t=e.users,a=Object(n.useState)([]),c=Object(s.a)(a,2),l=c[0],o=c[1],i=function(e){if(e.target.checked)o([].concat(Object(L.a)(l),[e.target.value]));else for(var t=0;t<l.length;t++)l[t]===e.target.value&&(l.splice(t,1),o(Object(L.a)(l)))};return r.a.createElement("div",{className:"mb-3"},r.a.createElement("div",null,t?r.a.createElement("div",{className:"overflow-auto d-flex container p-2"},r.a.createElement("ul",{className:"list-group text-start"},t.map(function(e,t){return r.a.createElement("li",{className:"list-group-item",key:t},r.a.createElement("input",{className:"form-check-input me-1",type:"checkbox",value:e.mail,"aria-label":"...",onChange:i}),e.nombre," ",e.apellido)}))):r.a.createElement("div",{className:"spinner-border text-primary d-flex justify-content-center",role:"status"},r.a.createElement("span",{className:"visually-hidden "},"Loading..."))),r.a.createElement("div",{className:"d-flex justify-content-center"},t?r.a.createElement(D,{deleteUsers:l,setDeleteUsers:o}):null))},_=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1],l=Object(n.useContext)(I),o=l.moviesContext,m=l.setMoviesContext;return Object(n.useEffect)(function(){var e=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/users/").then(function(e){c(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(p.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get("https://tucineya.herokuapp.com/api/movies/").then(function(e){m(e.data[0])});case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();e(),t()},[o]),r.a.createElement("div",{className:"container-fluid row"},r.a.createElement("div",{className:"d-flex justify-content-end"},r.a.createElement(i.b,null,r.a.createElement(i.c,{to:"/",className:"col-2"},"Atras"))),r.a.createElement("div",{className:"col-sm-7 col-md-3 col-lg-3"},r.a.createElement("h4",{className:"mb-4"},"Lista de usuarios"),r.a.createElement(T,{users:a})),r.a.createElement("div",{className:"col-sm-12 col-md-9 col-lg-9"},r.a.createElement("h4",{className:"mb-4"},"Peliculas"),r.a.createElement(B,null)))},F=function(){var e=Object(n.useState)(),t=Object(s.a)(e,2),a=t[0],c=t[1];return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(O,null)),r.a.createElement(i.b,null,r.a.createElement(I.Provider,{value:{moviesContext:a,setMoviesContext:c}},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0,component:x}),r.a.createElement(m.a,{path:"/registro",exact:!0,component:j}),r.a.createElement(m.a,{path:"/admin",exact:!0,component:_})))),r.a.createElement("div",null,r.a.createElement(k,null))))};l.a.render(r.a.createElement(F,null),document.getElementById("root")),o()}},[[40,1,2]]]);
//# sourceMappingURL=main.7dd21c53.chunk.js.map